link = "http://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
install.packages('dplyr')
library(dplyr)
installed.packages('Rcpp')
installed.packages('dplyr')
installed.packages('xml')
library(xml)
installed.packages('xml')
library(dplyr)
install.packages('dplyr')
library(dplyr)
install.packages('xml')
install.packages('XML')
library(XML)
install.packages('xml')
link = "http://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
UN = readHTMLTable(link, header=T, which=5,stringsAsFactors=F)
??readhtmltable
install.packages('XML')
library(XML)
UN = readHTMLTable(link, header=T, which=5,stringsAsFactors=F)
?readHTMLTable
UN = readHTMLTable(link)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
UN = readHTMLTable(link, header=T, which=5,stringsAsFactors=F)
UN = readHTMLTable(link)
if (!require(XML)) install.packages('XML')
library(XML)
UN = readHTMLTable(link, header=T, which=5,stringsAsFactors=F)
UN = readHTMLTable(link)
UN.table
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries.html"
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
UN = readHTMLTable(link)
install.packages('Rcurl')
install.packages('RCurl')
library(RCurl)
install.packages('RCurl')
install.packages("RCurl")
library(RCurl)
install.packages('bitops')
install.packages("bitops")
library(RCurl)
library(RCurl)
xData <- getURL(link)
doc <- xmlParse(xData)
??xmlparse
library(XML)
doc <- xmlParse(xData)
doc
UN = readHTMLTable(doc)
UN = readHTMLTable(xData)
temp <- getURL("link", ssl.verifyPeer=FALSE)
DFX <- xmlTreeParse(xData,useInternal = TRUE)
UN = readHTMLTable(doc)
xmlInternalTreeParse(DFX)
xmlInternalTreeParse(xData)
UN
df <- as.data.frame(UN)
View(UN)
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
UN = readHTMLTable(doc)
install.packages('rvest')
population <- link %>%
html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/table[1]') %>%
html_table()
library(dplyr)
population <- link %>%
html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/table[1]') %>%
html_table()
?html
??html
library(rvest)
population <- link %>%
html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/table[1]') %>%
html_table()
population <- link %>%
read_html() %>%
html_nodes(xpath='//*[@id="mw-content-text"]/table[1]') %>%
html_table()
library(dplyr)
library(XML)
library(rvest)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
?readHTMLTable
xData <- getURL(link)
if (!require(XML)) install.packages('XML')
library(dplyr)
library(XML)
library(rvest)
xData <- getURL(link)
??getURL
library(RCurl)
install.packages('RCurl')
install.packages("RCurl")
library(RCurl)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
UN = readHTMLTable(doc)
##############################################
##CASE STUDY 2
##############################################
if (!require(XML)) install.packages('XML')
library(dplyr)
library(XML)
library(rvest)
library(RCurl)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
UN = readHTMLTable(link, header=T,stringsAsFactors=F)
UN = readHTMLTable(link)
UN
doc = htmlParse(link)
tableNodes = getNodeSet(doc, "//table")
tableNodes = getNodeSet(doc, "/table>")
tableNodes = getNodeSet(doc)#, "/table>")
tb = readHTMLTable(tableNodes)
source('~/CaseStudy2_v2.R')
tables <- getNodeSet(htmlParse(link), "//table")
?getNodeSet
doc2 = xlmParse(link)
?xmlParse
doc2 = xmlParse(link)
?getNodeSet
?xml
tables <- getNodeSet(htmlParse(link), "table")
doc2 <- xmlParse(link)
doc3 <- xmlTreeParse(link, useInternalNodes = TRUE)
link2 = "http://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
doc <- htmlParse(link)
doc2 <- xmlParse(link)
doc <- htmlParse(link2)
doc2 <- xmlParse(link2)
doc3 <- xmlTreeParse(link2, useInternalNodes = TRUE)
url <- getURL(link2)
url <- getURL(link)
doc <- htmlParse(url)
tableNodes = getNodeSet(doc)#, "/table>")
doc3 <- xmlTreeParse(url, useInternalNodes = TRUE)
tableNodes = getNodeSet(doc3, "/table>")
doc3 <- xmlTreeParse(url, useInternalNodes = TRUE)
View(doc3)
class(doc3)
library(dplyr)
library(XML)
library(rvest)
library(RCurl)
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
link2 = "http://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
doc <- read_html(link)
node <- html_nodes(doc)
?html_nodes
node <- html_nodes(doc,"table")
tables <- html_table(node)
?html_table
tables <- html_table(node, fill = TRUE)
df <- as.data.frame(tables)
df <- as.data.frame(tables[1])
View(df)
df <- as.data.frame(tables[2])
head(df)
View(df)
df <- as.data.frame(tables[3])
head(df)
View(df)
df <- df[,3:4]
View(df)
colnames(df) <- c('Country', HDI)
colnames(df) <- c('Country', 'HDI')
View(df)
df <- df[4:,]
class(df)
df2 <- df[-1:3,]
df2 <- df[-1,]
source('~/CaseStudy2_v2.R')
df1 <- as.data.frame(tables[3])
df <- df[,3:4]
df1 <- df[,3:4]
head(df1)
df1 <- df[,3:4]
df1 <- df1[,3:4]
head(df1)
colnames(df1) <- c('Country','HDI')
df2 <- as.data.frame(tables[4]) #First table
head(df2)
df2 <- as.data.frame(tables[6]) #First table
str(df2)
View(df2)
df3 <- as.data.frame(tables[7]) #High Human Development
df2 <- df2[,3:4]
View(df2)
colnames(df2) <- c('Country','HDI')
df2$Category <- "High Human Development"
View(df2)
df1$Category <- "Very High"
df2$Category <- "High"
View(df3)
df3 <- as.data.frame(tables[8]) #High Human Development
View(df3)
df1 <- as.data.frame(tables[2]) #Very High Human Development
View(df1)
df1 <- as.data.frame(tables[3]) #Very High Human Development
View(df1)
df1 <- as.data.frame(tables[4]) #Very High Human Development
View(df1)
df2 <- as.data.frame(tables[5]) #Very High Human Development2
View(df2)
df3 <- as.data.frame(tables[7]) #High Human Development1
df4 <- as.data.frame(tables[8]) #High Human Development2
df3 <- as.data.frame(tables[9]) #Medium Human Development
View(df3)
df3 <- as.data.frame(tables[10]) #Medium Human Development
View(df3)
df4 <- as.data.frame(tables[11]) #Medium Human Development2
View(df4)
df7 <- as.data.frame(tables[13]) #Low Human Development1
View(df7)
df8 <- as.data.frame(tables[14]) #Low Human Development2
View(df8)
df1 <- as.data.frame(tables[4]) #Very High Human Development1
df2 <- as.data.frame(tables[5]) #Very High Human Development2
df3 <- as.data.frame(tables[7]) #High Human Development1
df4 <- as.data.frame(tables[8]) #High Human Development2
df5 <- as.data.frame(tables[10]) #Medium Human Development1
df6 <- as.data.frame(tables[11]) #Medium Human Development2
df7 <- as.data.frame(tables[13]) #Low Human Development1
df8 <- as.data.frame(tables[14]) #Low Human Development2
#Clean Up data frames
df1 <- df1[,3:4]
colnames(df1) <- c('Country','HDI')
df1$Category <- "Very High"
View(df1)
df1 <- df1[-1,]
View(df1)
df2 <- df2[-1,3:4]
View(df2)
source('~/CaseStudy2_v2.R')
df1 <- as.data.frame(tables[4]) #Very High Human Development1
df2 <- as.data.frame(tables[5]) #Very High Human Development2
df3 <- as.data.frame(tables[7]) #High Human Development1
df4 <- as.data.frame(tables[8]) #High Human Development2
df5 <- as.data.frame(tables[10]) #Medium Human Development1
df6 <- as.data.frame(tables[11]) #Medium Human Development2
df7 <- as.data.frame(tables[13]) #Low Human Development1
df8 <- as.data.frame(tables[14]) #Low Human Development2
colnames(dfi) <- c('Country','HDI')
colnames(x) <- c('Country','HDI')
for (i in 1:8) {
x = paste0(df,i)
x <- x[-1,3:4]
colnames(x) <- c('Country','HDI')
}
link = "https://en.wikipedia.org/wiki/List_of_countries_by_Human_Development_Index#Complete_list_of_countries"
doc <- read_html(link)
node <- html_nodes(doc,"table")
tables <- html_table(node, fill = TRUE)
df1 <- as.data.frame(tables[4]) #Very High Human Development1
df2 <- as.data.frame(tables[5]) #Very High Human Development2
df3 <- as.data.frame(tables[7]) #High Human Development1
df4 <- as.data.frame(tables[8]) #High Human Development2
df5 <- as.data.frame(tables[10]) #Medium Human Development1
df6 <- as.data.frame(tables[11]) #Medium Human Development2
df7 <- as.data.frame(tables[13]) #Low Human Development1
df8 <- as.data.frame(tables[14]) #Low Human Development2
#Clean Up data frames
for (i in 1:8) {
x = paste0(df,i)
x <- x[-1,3:4]
colnames(x) <- c('Country','HDI')
}
head(df1)
?paste0
for (i in 1:8) {
x = as.character(paste0(df,i))
x <- x[-1,3:4]
colnames(x) <- c('Country','HDI')
}
for (i in 1:8) {
x = paste0('df',i)
x <- x[-1,3:4]
colnames(x) <- c('Country','HDI')
}
for (i in 1:8) {
x = paste0('df',i)
x <- x[,3:4]
colnames(x) <- c('Country','HDI')
}
for (i in 1:8) {
x = paste0('df',i)
#x <- x[-1,3:4]
colnames(x) <- c('Country','HDI')
}
df1 <- as.data.frame(tables[4]) #Very High Human Development1
df2 <- as.data.frame(tables[5]) #Very High Human Development2
df3 <- as.data.frame(tables[7]) #High Human Development1
df4 <- as.data.frame(tables[8]) #High Human Development2
df5 <- as.data.frame(tables[10]) #Medium Human Development1
df6 <- as.data.frame(tables[11]) #Medium Human Development2
df7 <- as.data.frame(tables[13]) #Low Human Development1
df8 <- as.data.frame(tables[14]) #Low Human Development2
#Clean Up data frames
df1 <- df1[-1,3:4]
colnames(df1) <- c('Country','HDI')
df1$Category <- "Very High"
df2 <- df2[-1,3:4]
colnames(df2) <- c('Country','HDI')
df2$Category <- "Very High"
df3 <- df3[-1,3:4]
colnames(df3) <- c('Country','HDI')
df3$Category <- "High"
df4 <- df4[-1,3:4]
colnames(df4) <- c('Country','HDI')
df4$Category <- "High"
df5 <- df5[-1,3:4]
colnames(df5) <- c('Country','HDI')
df5$Category <- "Medium"
df6 <- df6[-1,3:4]
colnames(df6) <- c('Country','HDI')
df6$Category <- "Medium"
df7 <- df7[-1,3:4]
colnames(df7) <- c('Country','HDI')
df7$Category <- "Low"
df8 <- df8[-1,3:4]
colnames(df8) <- c('Country','HDI')
df8$Category <- "Low"
?rbind
df <- rbind(df1,df2)
View(df)
df <- rbind(df1,df2,df3)
View(df)
#Combine data frames
df <- rbind(df1,df2,df3,df4,df5,df6,df7,df8)
View(df)
write.csv(df, "HumanDevelopmentIndex.csv")
?write.csv
write.csv(df, "HumanDevelopmentIndex.csv",row.names = FALSE)
source('~/SMU/CaseStudy2/Analysis/MakeFile1.R')
setwd("~/SMU/CaseStudy2/Analysis/Data")
HDI <- read.csv('HumanDevelopmentIndex.csv')
pro <- read.csv('Procrastination.csv')
str(pro)
View(pro)
pro2 <- pro$Country.of.residence
?cbind
?merge
df <- merge(x = pro2,y = HDI,by.x = Country.of.residence, by.y = Country)
df <- merge(x = pro,y = HDI,by.x = Country.of.residence, by.y = Country)
df <- merge(x = pro2,y = HDI,by.x = Country.of.residence, by.y = Country)
str(pro)
df <- merge(x = pro,y = HDI,by.x = 'Country.of.residence', by.y = "Country")
df <- merge(x = pro,y = HDI,by.x = 'Country.of.residence', by.y = "Country")
View(df)
nrow(pro)
ncol(pro)
?data.frame
one <- data.frame(nrow(pro),ncol(pro))
View(one)
colnames(one) <- c("Number of Rows", "Number of Columns")
View(one)
colnames(df$Country.of.residence) <- 'Country'
colnames(df)[1] <- 'Country'
colnames(df)[2] <- 'Age'
library(data.table)
install.packages('data.table')
df <- merge(x = pro,y = HDI,by.x = 'Country.of.residence', by.y = "Country")
setnames(df, "Country.of.residence", "Country")
library(data.table)
setnames(df, "Country.of.residence", "Country")
setnames(df, "Country.of.residence", "Country")
setnames(df, Country.of.residence, "Country")
?setnames
setnames(df, Country.of.residence, Country)
setnames(df, Country.of.residence, 'Country')
setnames(df, 'Country.of.residence', 'Country')
colnames(df)[1] <- 'Country'
colnames(df)[2] <- 'Age'
colnames(df)[3] <- 'Gender'
colnames(df)[4] <- 'HaveKids'
colnames(df)[5] <- 'Education'
colnames(df)[4] <- 'KidStatus'
colnames(df)[6] <- 'WorkStatus'
colnames(df)[7] <- 'Income'
colnames(df)[8] <- 'Occupation'
colnames(df)[9] <- 'TenureYears'
colnames(df)[10] <- 'TenureMonths'
colnames(df)[11] <- 'CommunitySize'
colnames(df)[12] <- 'MatritalStatus'
colnames(df)[13] <- 'NumberSons'
colnames(df)[13] <- 'Sons'
colnames(df)[14] <- 'Daughters'
#Question 2c
df$Country <- as.character(df$Country)
df$Age <- as.integer(df$Age)
levels(df$KidStatus)
levels(df$KidStatus)
levels(df$Education)
library(plyr)
install.packages('plyr')
library(plyr)
levels(df$Education)[levels(df$Education)=="deg"] <- "Bachelors"
levels(df$Education)[levels(df$Education)=="dip"] <- "Diploma"
levels(df$Education)[levels(df$Education)=="ma"] <- "Masters"
levels(df$Education)[levels(df$Education)=="phd"] <- "Doctorate"
levels(df$Education)[levels(df$Education)=="high"] <- "HighSchool"
levels(df$Education)[levels(df$Education)=="high"] <- "Diploma"
levels(df$Education)[levels(df$Education)=="lthigh"] <- "LittleHighSchool"
levels(df$Education)[levels(df$Education)=="ltuni"] <- "Some University"
levels(df$Education)
levels(df$Education)[levels(df$Education)=="grade"] <- "Grade School"
df$Occupation <- as.character(df$Occupation)
levels(df$WorkStatus)
levels(df$WorkStatus)[levels(df$WorkStatus)=="0"] <- "unemployed"
df$TenureYears <- as.integer(df$TenureYears)
hist(df$TenureYears)
summary(df$TenureYears)
df$TenureYears[df$TenureYears == 999] <- NULL
df$TenureYears[df$TenureYears == 999] <- NA
hist(df$TenureYears)
hist(df$TenureMonths)
levels(df$CommunitySize)
levels(df$CommunitySize)[levels(df$CommunitySize)=="0"] <- ""
levels(df$CommunitySize)[levels(df$CommunitySize)=="8"] <- ""
levels(df$CommunitySize)
levels(df$CommunitySize)[levels(df$CommunitySize)=="Large Town"] <- "Large-City"
levels(df$CommunitySize)[levels(df$CommunitySize)=="Small City"] <- "Small-City"
levels(df$CommunitySize)[levels(df$CommunitySize)=="Small Town"] <- "Small-City"
levels(df$CommunitySize)[levels(df$CommunitySize)=="Medium-Sized"] <- "Medium-City"
levels(df$CommunitySize)
